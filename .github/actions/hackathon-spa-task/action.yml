name: "Hackathon App Task"
description: "Run a specified npm script in the hackathon app directory"

inputs:
  task:
    description: 'npm script to run'
    required: true

runs:
  using: "composite"
  steps:
  - name: Set up Node.js
    uses: actions/setup-node@v4
    with:
      node-version: 24
      cache: 'npm'
      cache-dependency-path: ./src/hackathon-spa/package-lock.json

  - name: Restore dependencies
    run: npm ci
    shell: bash
    working-directory: ./src/hackathon-spa

  - name: Run npm script ${{ inputs.task }}
    run: npm run ${{ inputs.task }}
    shell: bash
    working-directory: ./src/hackathon-spa
